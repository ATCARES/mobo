---
properties:

####################################################
# JSON Schema annotations                          #
####################################################

  $schema:
    internal: true

  id:
    format:
    internal: true
    specific: domain
    description: |
      Usually auto generated ID, should be identical to the filename

  title:
    specific: domain
    important: true
    description: |
      Human readable title.

  description:
    specific: domain
    important: true
    description: |
      Description of the field. Can be displayed as tooltip info

  type:
    type:
      - array
      - string
    important: true
    description: |
      Defines the data-type.
      
  properties:
    internal: true
    description: |
      Mobo Schema does not use 'properties', it prefers 'items' because the order of the element can be garantueed.
      Internally, properties are still because of their easier accessing.

  items:
    type:
      - object
    important: true
    description: |
        Lists all models that the form uses.<br>
        Those are included by `$extend`.<br>
        If multiple instance templates need to be created, use another items hierachy.

  required:
    appliesNot:
      - field
      - form
    description: |
      Array containing the IDs of all required fields

  maxItems:
    appliesNot:
      - model
      - form

  maxLength:
    appliesNot:
      - model
      - form

  maximum:
    appliesNot:
      - model
      - form

  minItems:
    appliesNot:
      - model
      - form

  minLength:
    appliesNot:
      - model
      - form

  minimum:
    appliesNot:
      - model
      - form

  pattern:
    appliesNot:
      - model
      - form
  default:
    appliesNot:
      - model
      - form
  enum:
    appliesNot:
      - model
      - form



####################################################
# Intermediary System Properties                   #
####################################################

  $extend:
    type:
    - string
    - array
    pattern: "^/.*/_*.*$"
    uniqueItems: true
    important: true
    specific: intermediary
    description: |
      This references another mobo json file.
      It will be included through inheritance, all existing attributes in the parent object will be overwritten.

  $remove:
    type: array
    minItems: 1
    uniqueItems: true
    specific: intermediary
    description: |
      Array, containing the IDs of all items/properties to remove from current object.

  $ignore:
    type: boolean
    default: false
    specific: domain
    specific: intermediary
    description: |
      If true, this file will be ignored completely.

  $abstract:
    type: boolean
    default: false
    specific: domain
    important: true
    specific: intermediary
    description: |
      If true this object is only used for inheritance and will not be itself.

####################################################
# Metadata (for internal use only)                 #
####################################################

  $reference:
    type: object
    minItems: 1
    uniqueItems: true
    internal: true
    specific: metadata
    description: |
      For internal use only!
      After inheritance is applied, $extend will be replaced through $reference.
      (For keeping info on the heritage)

  $path:
    type: string
    internal: true
    specific: metadata
    description: |
      For internal use only!
      This stores the path of the object, as used '$extend' or 'format'.
      Used for improved debugging messages

  $filepath:
    type: string
    internal: true
    specific: metadata
    description: |
      For internal use only!
      This stores the complete relative path of the development model file.
      Used for improved debugging messages

  $modelPart:
    type: string
    internal: true
    specific: metadata
    description: |
      For internal use only!
      This declares the part from the model where object originated (field, form,...)


####################################################
# Global Mobo Schema Properties                    #
####################################################

  itemsOrder:
    type: array
    items:
      type: string
    minItems: 1
    uniqueItems: true
    specific: domain
    important: true
    description: |
      Array that sets the display order of all (including inherited) properties.<br>
      Unmentioned fields will be appended at the bottom in their original order.

  todo:
    type: string
    specific: domain
    description: |
      If TODO notes are placed here, mobo can print them in the CLI (If the corresponding global setting is enabled)

  note:
    type:
    - string
    - object
    specific: domain
    description: |
      Notes can be strings or objects and their content will be ignored

  wikitext:
    type: string
    internal: true
    specific: metadata
    description: |
      For internal use only! This contains wikitext to inject
